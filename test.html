<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    
<div>
    <div>名前: <input type="text" id="uname"> </div>
    <div>
        <textarea  id="text" cols="30" rows="10"></textarea>
        <button id="send">送信</button>
        <input type="file" value="upload" id="fileButton">
    

        <img src="" alt="">
<!-- カード -->

<div class="display">
    <div class="field">
        <div id="output">
            <img id="img1" src="" alt="">
        </div>
    </div>
</div>




    <!-- The core Firebase JS SDK is always required and must be listed first  -->
<script src="https://www.gstatic.com/firebasejs/7.14.3/firebase.js"></script>

<!-- JQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<!-- JQuery -->


<script>
/*****************************************************************************************
* firebase設定
* 
* 
******************************************************************************************/
var firebaseConfig = {
    apiKey: "AIzaSyCmdOMPI8XDQg_jpLCFnw7SCJBQ0rx2XNQ",
    authDomain: "gsdemo-15532.firebaseapp.com",
    databaseURL: "https://gsdemo-15532.firebaseio.com",
    projectId: "gsdemo-15532",
    storageBucket: "gsdemo-15532.appspot.com",
    messagingSenderId: "45049544375",
    appId: "1:45049544375:web:6df75ca8a1d90ab9711732"
  };
// Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  
// Get a reference to the storage service, which is used to create references in your storage bucket
    var storage = firebase.storage();

    
    let fileButton = document.querySelector("#fileButton")

/*****************************************************************************************
* 
* 
* firebase設定
******************************************************************************************/

/*****************************************************************************************
 * ファイルのURL取得
 * 
 * 
******************************************************************************************/



const downRef = firebase.storage().ref().child("1.jpg");
console.log(downRef);


/*****************************************************************************************
 * 
 * 
 * ファイルのURL取得
******************************************************************************************/




var blob;






    /*****************************************************************************************
     * ファイルの送信
     * 
     * 
    ******************************************************************************************/

    fileButton.addEventListener("change",function(e){   //ファイルを選択→送信でput〇
        console.log(e);
        $("#send").on("click",function(){
            console.log(e);
        //ファイルを取得
        let file = e.target.files[0];
         
          //storage ref を作成
          let storageRef = firebase.storage().ref('test/' +file.name);
     //ファイルのアップロード
     storageRef.put(file);
    });

     /**************************************************************************************
     *
     * 
     *  ファイルの送信
    ********************************************************************************************/
      
        
    });

    
   



</script>
</body>
</html>